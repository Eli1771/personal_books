<style>

  #library, #room, .case {
    margin: 5px;
    padding: 15px;
    border-radius: 15px;
  }

  #library {
    background: #ffffae;
  }

  #room {
    background: #a7d0a7;
  }

  h1 {
    padding: 10px
  }

  #subheader {
    padding-left: 10px;
  }

  .flex-container {
    display: flex;
  }

  .case {
    display: inline-block;
    width: 40%;
    background: pink;
  }

  a {
    color: black;
    text-decoration: none;
  }

  a.nav_link:link {
    color: #999;
    text-decoration: none;
    font-weight: bold;
  }
  a.nav_link:visited {
    color: #999;
  }
  a.nav_link:hover {
    color:black;
  }

</style>

<div id="library">
  <a href="/lib/show"><h4>The <%= @user.username %> Library</h4></a>
  <div id="room">
    <h1>Room: <%= @room.name %></h1>
    <h4 id="subheader"><%= @cases.count %> Case<%= 's' if @cases.count != 1 %></h4>
    <div class="flex-container">
      <% @cases.sort_by {|bookcase| bookcase.name.to_s}.each do |bookcase| %>
      <div class="case"><a href="/lib/case/<%= bookcase.id %>">
        <h3>Case <%= bookcase.name %></h3>
        <p><%= bookcase.shelf_count %> shelves</p>
        <p><%= bookcase.books.count %> books total</p>
        <% topics = bookcase.books.map {|book| book.topic.name}.uniq.join(", ") %>
        <p>Topics: <%= topics %></p>
      </a></div>
      <% end %>
    </div>
  </div>
</div>

<br><br>
<a href="/lib/new" class="nav_link">ADD NEW BOOKS</a>
<br><br>
<a href="/lib" class="nav_link">HOME</a>
<br><br>
<a href="/logout" class="nav_link">LOG OUT</a>
